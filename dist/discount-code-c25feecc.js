"use strict";(self.webpackJsonpCheckout=self.webpackJsonpCheckout||[]).push([[717],{10471:(e,t,o)=>{o.r(t),o.d(t,{default:()=>v,mapToDisCountCodeProps:()=>m});var n=o(97582),c=o(696),a=o.n(c),i=o(67627),s=o(92574),r=o(56204),d=o(61397),u=o(69638),l=o(3467),p=function(e){function t(t){var o=e.call(this,t)||this;return o.state=(0,n.__assign)((0,n.__assign)({},o.state),{discountCode:t.couponCode||""}),o}return(0,n.__extends)(t,e),t.prototype.render=function(){var e,t,o=this,c=this.props,r=c.couponCode,d=c.couponError,u=c.isRemovingCoupon,p=c.isApplyingCoupon,m=c.applyCoupon,v=c.removeCoupon;return i.createElement("div",{className:'checkout-discount-wrapper"'},i.createElement("div",{className:"discount-code"},this.props.checkout&&i.createElement("div",null,i.createElement("div",{className:"discount-code-label"},i.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"}},i.createElement(s.Z,{id:"cart.discountCode.title"}),i.createElement("div",{className:"discount-code-status-container"},!!d&&i.createElement("div",null,i.createElement("div",{style:{color:"#FF0000",width:"2rem",height:"2rem",border:"1px solid #FF0000",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"}},"!")),(u||p)&&i.createElement("div",{className:"spinner"}),!!r&&(!u||!p)&&i.createElement(l.Z,{additionalClassName:a()("stepHeader-counter","optimizedCheckout-step",{"stepHeader-counter--complete":!!r})})))),!!r&&i.createElement("div",{className:"discount-code-input-wrapper"},i.createElement("div",{className:"discount-code-input-container"},i.createElement("div",{className:"discount-code-input-lable"},i.createElement(s.Z,{id:"cart.discountCode.placeholder"})),i.createElement("input",{className:"discount-code-input",disabled:!0,onChange:function(e){return o.setState({discountCode:e.target.value})},type:"text",value:r})),i.createElement("div",{className:"discount-code-button-wrapper"},!!r&&i.createElement("div",null,i.createElement("button",{className:"discount-code-button",onClick:function(e){e.preventDefault();var t=o.props.couponCode;v(t)}},"Remove")))),!r&&i.createElement("div",{className:"discount-code-input-wrapper"},i.createElement("div",{className:"discount-code-input-container"},i.createElement("div",{className:"discount-code-input-lable"},i.createElement(s.Z,{id:"cart.discountCode.placeholder"})),i.createElement("input",{className:"discount-code-input",disabled:p||u,onChange:function(e){return o.setState({discountCode:e.target.value})},type:"text",value:this.state.discountCode||(null===(e=this.props)||void 0===e?void 0:e.couponCode)||""})),i.createElement("div",{className:"discount-code-button-wrapper"},!!this.state.discountCode&&!r&&i.createElement("button",{className:"discount-code-button",disabled:p||u,onClick:function(e){return(0,n.__awaiter)(o,void 0,void 0,(function(){var t,o;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:e.preventDefault(),t=this.state.discountCode,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,m(t)];case 2:return n.sent(),this.setState({discountCode:r}),[3,4];case 3:return o=n.sent(),console.error("error : ",o),[3,4];case 4:return[2]}}))}))}},"Validate"))),!!d&&i.createElement("div",{style:{width:"100%",color:"red",fontSize:"10px",paddingLeft:"1.5rem",paddingBottom:"1.5rem",paddingRight:"1.5rem"}},i.createElement("div",null,null===(t=null==d?void 0:d.body)||void 0===t?void 0:t.detail)))))},t}(i.Component);function m(e){var t,o,n=e.checkoutService,c=e.checkoutState,a=c.data,i=a.getCoupons,s=a.getCheckout,r=c.statuses,d=r.isRemovingCoupon,u=r.isApplyingCoupon,l=c.errors,p=l.getApplyCouponError,m=l.getRemoveCouponError;return{couponCode:null===(o=null===(t=i())||void 0===t?void 0:t.find((function(e){return e.code})))||void 0===o?void 0:o.code,checkout:s(),couponError:p()||m(),isRemovingCoupon:d(),isApplyingCoupon:u(),applyCoupon:n.applyCoupon,removeCoupon:n.removeCoupon}}const v=(0,d.Z)((0,r.Z)((0,u.Z)(m)(p)))}}]);
//# sourceMappingURL=discount-code-c25feecc.js.map